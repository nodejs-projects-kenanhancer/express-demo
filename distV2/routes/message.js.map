{"version":3,"sources":["../../srcV2/routes/message.js"],"names":["router","Router","get","req","res","send","Object","values","context","models","messages","params","messageId","post","id","uuidv4","message","text","body","userId","me","otherMessages"],"mappings":"8XAAA;AACA,kC;;AAEA,IAAMA,MAAM,GAAG,IAAIC,eAAJ,EAAf;;AAEAD,MAAM,CAACE,GAAP,CAAW,GAAX,EAAgB,UAACC,GAAD,EAAMC,GAAN,EAAc;AAC1BA,EAAAA,GAAG,CAACC,IAAJ,CAASC,MAAM,CAACC,MAAP,CAAcJ,GAAG,CAACK,OAAJ,CAAYC,MAAZ,CAAmBC,QAAjC,CAAT;AACH,CAFD;;AAIAV,MAAM,CAACE,GAAP,CAAW,aAAX,EAA0B,UAACC,GAAD,EAAMC,GAAN,EAAc;AACpCA,EAAAA,GAAG,CAACC,IAAJ,CAASF,GAAG,CAACK,OAAJ,CAAYC,MAAZ,CAAmBC,QAAnB,CAA4BP,GAAG,CAACQ,MAAJ,CAAWC,SAAvC,CAAT;AACH,CAFD;;AAIAZ,MAAM,CAACa,IAAP,CAAY,GAAZ,EAAiB,UAACV,GAAD,EAAMC,GAAN,EAAc;AAC3B,MAAMU,EAAE,GAAGC,MAAM,EAAjB;AACA,MAAMC,OAAO,GAAG;AACZF,IAAAA,EAAE,EAAFA,EADY;AAEZG,IAAAA,IAAI,EAAEd,GAAG,CAACe,IAAJ,CAASD,IAFH;AAGZE,IAAAA,MAAM,EAAEhB,GAAG,CAACK,OAAJ,CAAYY,EAAZ,CAAeN,EAHX,EAAhB;;;AAMAX,EAAAA,GAAG,CAACK,OAAJ,CAAYC,MAAZ,CAAmBC,QAAnB,CAA4BI,EAA5B,IAAkCE,OAAlC;;AAEAZ,EAAAA,GAAG,CAACC,IAAJ,CAASW,OAAT;AACH,CAXD;;AAaAhB,MAAM,UAAN,CAAc,aAAd,EAA6B,UAACG,GAAD,EAAMC,GAAN,EAAc;;;;AAInCD,EAAAA,GAAG,CAACK,OAAJ,CAAYC,MAAZ,CAAmBC,QAJgB,yBAElCP,GAAG,CAACQ,MAAJ,CAAWC,SAFuB,CAEXI,OAFW,gDAGhCK,aAHgC;;AAMvCjB,EAAAA,GAAG,CAACC,IAAJ,CAASW,OAAT;AACH,CAPD,E;;AASehB,M","sourcesContent":["import {v4 as uuiv4} from 'uuid';\nimport {Router} from 'express';\n\nconst router = new Router();\n\nrouter.get('/', (req, res) => {\n    res.send(Object.values(req.context.models.messages));\n});\n\nrouter.get('/:messageId', (req, res) => {\n    res.send(req.context.models.messages[req.params.messageId]);\n});\n\nrouter.post('/', (req, res) => {\n    const id = uuidv4();\n    const message = {\n        id,\n        text: req.body.text,\n        userId: req.context.me.id\n    };\n\n    req.context.models.messages[id] = message;\n\n    res.send(message);\n});\n\nrouter.delete('/:messageId', (req, res) => {\n    const {\n        [req.params.messageId]: message,\n        ...otherMessages\n    } = req.context.models.messages;\n\n    res.send(message);\n});\n\nexport default router;"],"file":"message.js"}